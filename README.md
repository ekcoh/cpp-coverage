# cpp-coverage

## Introduction
This project provides CMake functions to simplify running C++ tests with code coverage reports generated by [OpenCppCoverage](https://github.com/OpenCppCoverage/OpenCppCoverage).

## Usage

In order to use cpp-coverage to simplify usage of OpenCppCoverage, all you need to do is to make sure cpp-coverage is available to your build by fetching it, using fetch-content, external-project_add, submodule or similar. Then make sure cpp-coverage is added to your build by adding it as a subdirection and finally use 'cpp_coverage_add_test_coverage' function to add test coverage based on existing test binary targets. The utility functions will create custom targets to generate coverage (.cov) files as well as custom targets to generate coverage reports (e.g. HTML). Coverage reports default to aggregated project coverage but additional options exist to for example also generate reports per test target. See /cmake/cpp_coverage.cmake documentation for complete list of supported options.

## Usage with test frameworks

Examples provided in this project are using Google test but no good integration equivalent to gtest_discover_tests(...) currently exist.

For complete examples, see /examples folder. Examples are not built by default and requires CPP_COVERAGE_BUILD_EXAMPLES to be set to ON.

See [OpenCppCoverage documentation](https://github.com/OpenCppCoverage/OpenCppCoverage/wiki) 
for details on how to use and integrate in CI etc.
